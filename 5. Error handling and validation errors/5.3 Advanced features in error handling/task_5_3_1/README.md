## Task 5.3.1

Для этой задачи программирования вам необходимо реализовать пользовательские ответы на ошибки в приложении FastAPI, чтобы обеспечить более удобную и информативную обратную связь для пользователей.

**Требования:**

1. Создайте приложение FastAPI по крайней мере с двумя конечными точками, которые выполняют разные задачи (например, одна конечная точка обрабатывает регистрацию пользователя, а другая конечная точка извлекает пользовательские данные).

2. Определите пользовательские модели реагирования на ошибки с помощью Pydantic для распространенных типов ошибок, которые могут возникать в приложении (например, `ErrorResponseModel` с полями для `status_code`, `message` и `error_code`).

3. Реализуйте пользовательские классы исключений для конкретных сценариев (например, `UserNotFoundException`, `InvalidUserDataException`), которые вызывают соответствующие HTTPExceptions с кодами состояния и пользовательскими сообщениями об ошибках.

4. Добавьте пользовательский заголовок `"X-ErrorHandleTime"`, который указывает время, ушедшее на обработку ошибки, интернационализацию ответов на ошибки (второе по желанию). 

5. Создайте пользовательские обработчики исключений, используя декоратор `@app.exception_handler`, чтобы перехватывать и обрабатывать пользовательские исключения. Обработчики должны генерировать пользовательские ответы на ошибки, используя определенные модели ответов.

6. Протестируйте пользовательские ответы на ошибки, отправив запросы к конечным точкам с неверными данными или несуществующими ресурсами. Убедитесь, что ответы об ошибках содержат ожидаемые коды состояния, сообщения об ошибках и коды кодов ошибок.

**Резюме:**

После выполнения задачи у вас должно быть приложение FastAPI, которое предоставляет пользовательские ответы на ошибки для различных типов исключений. Когда пользователи сталкиваются с ошибками, они должны получать информативные сообщения об ошибках, расширяющие их понимание проблем и улучшающие общий пользовательский опыт.

---

1. Запустить приложение
```python
uvicorn app.main:app --reload
```

2. Сделать тестовые запросы в терминале
```python
curl -i -X 'POST' \
  'http://127.0.0.1:8000/login' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "username": "fake",
  "password": "weakpass"
}'

curl -i -X 'GET' \
  'http://127.0.0.1:8000/user' \
  -H 'accept: application/json' \
  -H 'Cookie: session_token=kek'
```

Посмотреть Swagger: http://localhost:8000/docs