## Task 5.2.1

Для этой задачи программирования вам необходимо реализовать **проверку данных запроса и пользовательскую обработку ошибок проверки** в приложении FastAPI.

**Требования:**

1. Создайте приложение FastAPI по крайней мере с **одной конечной точкой, которая принимает полезную нагрузку** JSON, представляющую данные пользователя (например, "name", "age", "e-mail" и др. согласно примеру ниже, либо можете использовать свой пример).

2. Определите **модель Pydantic для пользовательских данных**, чтобы выполнить проверку входящей полезной нагрузки JSON.
```python
class User(BaseModel):
    username: str
    age: conint(gt=18)
    email: EmailStr
    password: constr(min_length=8, max_length=16)
    phone: Optional[str] = 'Unknown'
```

*Немного прокомментируем, чтобы вы знали больше, чем мы рассказывали ранее:*
- *В `username` - проверка на строку, ничего необычного;*
- *`conint` - это int с ограничениями (от "add constraints");*
- *`gt=18` - greater than - больше чем; прочитайте про другие сокращения в FastAPI;*
- *`EmailStr` - проверяет, удовлетворяет ли строка требованиям к емейлу (либо можете написать сами регулярку);*
- *`constr` - аналогично предыдущему, но строка с ограничениями (ограничения по длине - заданы минимальная и максимальная длины);*
- *`Optional[str]` - переменная имеет тип str, но это является «необязательным». И также указали значение по умолчанию.*

3. Реализуйте **пользовательскую обработку ошибок** проверки с помощью декоратора `@app.exception_handler`, чтобы предоставлять информативные ответы об ошибках при сбоях проверки.

4. **Протестируйте обработку ошибок** пользовательской проверки, отправив запросы с неверными пользовательскими данными в конечную точку и убедившись, что ответы об ошибках содержат соответствующие коды состояния и сообщения об ошибках.

*Примечание: Вы можете использовать `fastapi.testclient.TestClient` для выполнения тестовых запросов к вашему приложению FastAPI и проверки ответов (про него мы расскажем в следующем блоке).*

---

1. Запустить приложение
```python
uvicorn app.main:app --reload
```

2. Сделать тестовый запрос в терминале
```python
curl -X 'POST' \
  'http://127.0.0.1:8000/exceptions' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "username": 1,
  "age": 18,
  "email": "userexample.com",
  "password": "123",
  "phone": 8808888888
}'
```

Посмотреть Swagger: http://localhost:8000/docs