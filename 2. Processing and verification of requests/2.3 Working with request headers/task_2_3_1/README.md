## Task 2.3.1

Ваша задача - создать приложение FastAPI, которое демонстрирует, как работать с заголовками запросов. Выполните следующие действия, чтобы выполнить задачу:

1. Создайте конечную точку в `/headers`, которая принимает запросы GET.

2. В конечной точке `/headers` извлеките следующие заголовки из входящего запроса:

   a) **"User-agent"**: строка пользовательского агента браузера клиента или пользовательского агента пользователя.

   б) **"Accept-Language"**: предпочтительный язык клиента для согласования содержимого.

3. Верните ответ в формате JSON, содержащий извлеченные заголовки и их значения.

Пример:

GET-запрос к `/headers` со следующими заголовками:
```python
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36
Accept-Language: en-US,en;q=0.9,es;q=0.8
```

Ответ JSON должен быть таким:
```python
{
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",
    "Accept-Language": "en-US,en;q=0.9,es;q=0.8"
}
```
4. Реализуйте обработку ошибок, чтобы вернуть соответствующий ответ с кодом состояния 400 (неверный запрос), если необходимые заголовки отсутствуют.

5. *Необязательно: добавьте проверку, чтобы проверить, имеет ли заголовок "Accept-Language" правильный формат (например, "en-US,en;q=0.9,es;q=0.8"). Если он не в правильном формате, верните ответ об ошибке с кодом состояния 400 (неверный запрос)*.

Подсказка: Используйте атрибут `request.headers` для доступа к заголовкам входящих запросов.

Протестируйте свою реализацию с помощью таких инструментов, как `curl`, Postman или любой другой клиент API, чтобы убедиться, что конечная точка `/headers` возвращает ожидаемый ответ JSON, содержащий извлеченные заголовки и значения. Кроме того, протестируйте обработку ошибок, отправляя запросы без требуемых заголовков или с неправильными форматами заголовков "Accept-Language".

---

1. Запустить приложение
```python
uvicorn app.main:app --reload
```
2. Сделать тестовый запрос в терминале
```bash
curl -i -X 'POST' \
  'http://localhost:8000/login' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "username": "John",
  "password": "Travolta"  
}'
```
```python
curl -X 'GET' \
  'http://localhost:8000/user' \
  -H 'accept: application/json' \
  -H 'Cookie: session_token=fake_token'
```

Посмотреть Swagger: http://localhost:8000/docs